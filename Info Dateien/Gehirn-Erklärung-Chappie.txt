üß† DIE BRAIN ENGINE VON CHAPPIE - EIN DETAILLIERTER EINBLICK üß†

Diese Dokumentation erkl√§rt die Funktionsweise von CHAPPiEs Gehirn, wie Informationen verarbeitet, gespeichert und erinnert werden.

---

1. üß† WIE DAS GEHIRN FUNKTIONIERT (DIE ARCHITEKTUR)
CHAPPiE nutzt eine modulare Architektur. Sein "Bewusstsein" entsteht durch das Zusammenspiel von:
- LLM-Backend: Groq (Cloud, extrem schnell) oder Ollama (Lokal, privat). Meistens kommt Llama-3-8b zum Einsatz.
- System-Prompts: Eine tiefgreifende Definition seiner Pers√∂nlichkeit, die festlegt, wie er sprechen und sich verhalten soll.
- Modularit√§t: Das Gehirn ist so gebaut, dass es jederzeit zwischen verschiedenen KI-Modellen wechseln kann (BaseBrain Klasse).

---

2. üì• WIE INFORMATIONEN VERARBEITET WERDEN (DER DENKPROZESS)
Jede Nachricht durchl√§uft eine Pipeline, bevor eine Antwort erscheint:
a) Sentiment-Analyse: Die "Emotions Engine" pr√ºft mit einem eigenen schnellen LLM (Ollama), wie die Nachricht gemeint ist (Lob, Kritik, Frage, Versprechen).
b) Query-Extraktion: CHAPPiE √ºberlegt kurz: "Wonach muss ich in meinem Ged√§chtnis suchen, um diese Frage optimal zu beantworten?" (Smart Query Extraction).
c) Kontext-Bau: Das Gehirn baut einen gewaltigen Textblock zusammen, der aus der Pers√∂nlichkeit, dem emotionalen Zustand, den relevanten Erinnerungen und dem aktuellen Chatverlauf besteht.
d) Innerer Monolog (Chain of Thought): CHAPPiE schreibt zuerst seine Gedanken in <gedanke> Tags. Hier plant er seine Antwort, reflektiert √ºber seine Gef√ºhle und ordnet Informationen. Erst danach schreibt er die eigentliche <antwort>.

---

3. üìÇ WIE INFORMATIONEN GESPEICHERT WERDEN (DAS GED√ÑCHTNIS)
CHAPPiE nutzt eine Vektor-Datenbank (ChromaDB) f√ºr sein Langzeitged√§chtnis.
- Embeddings: Jeder Satz wird mit dem Modell "all-MiniLM-L6-v2" in eine Liste von Zahlen (Vektoren) umgewandelt. Diese Zahlen repr√§sentieren die Bedeutung des Textes.
- Vektor-Raum: Texte mit √§hnlicher Bedeutung liegen im mathematischen Raum nah beieinander. So kann CHAPPiE nach Sinnzusammenh√§ngen suchen, statt nur nach exakten W√∂rtern.

---

4. üï∞Ô∏è DER UMGANG MIT ERINNERUNGEN
Es gibt zwei Arten von Erinnerungen:
1. Interaktionen (interaction): Die rohen Gespr√§chsverl√§ufe. Sie sind detailliert, verbrauchen aber viel Platz im "Kopf".
2. Zusammenfassungen (summary): Die Essenz vergangener Gespr√§che.

Retrival Augmented Generation (RAG): 
Wenn du eine Frage stellst, sucht CHAPPiE in Millisekunden nach √§hnlichen Vektoren in der Datenbank. Die Top-Ergebnisse (meist die besten 3-5) werden ihm als "Kontext" direkt ins Kurzzeitged√§chtnis gelegt, bevor er antwortet.

---

5. üò¥ DIE TRAUM-PHASE (MEMORY CONSOLIDATION)
Damit sein Gehirn nicht mit unwichtigen Details √ºberf√ºllt wird, gibt es den /sleep Modus:
- Analyse: CHAPPiE geht alle neuen Interaktionen durch.
- Abstraktion: Ein LLM filtert die wichtigsten Fakten (Nuggets) heraus und erstellt eine Liste von Stichpunkten.
- Speicherung: Diese Stichpunkte werden als Typ "summary" permanent gespeichert.
- Reinigung: Die urspr√ºnglichen, sperrigen Interaktions-Daten werden gel√∂scht.
- Erholung: Seine Energie-Werte werden wieder aufgeladen.

---

6. ‚ù§Ô∏è DIE EMOTIONS ENGINE (DAS GEF√úHLSZENTRUM)
Sein Gehirn ist untrennbar mit seinen Gef√ºhlen verbunden:
- 6 Vitale Werte: Happiness, Trust, Energy, Curiosity, Frustration, Motivation.
- R√ºckkopplung: Seine Emotionen werden in den System-Prompt injiziert. 
  - Hohes Vertrauen -> Er wird offener und pers√∂nlicher.
  - Niedrige Energie -> Seine Antworten werden k√ºrzer und er bittet um eine Pause.
  - Hohe Neugier -> Er stellt mehr Gegenfragen.

---

7. üßò SELBSTREFLEXION (THINK DEEP)
Im "Think Mode" kann CHAPPiE aktiv √ºber Themen nachdenken, ohne dass ein User etwas schreibt. Er f√ºhrt einen iterativen Prozess durch:
1. Er nimmt einen Gedanken.
2. Er sucht in seinem Ged√§chtnis nach Assoziationen.
3. Er formuliert eine neue Erkenntnis.
4. Er speichert diese als neue Erinnerung (Selbst-Lernen).

---

ZUSAMMENFASSUNG:
Das Brain von CHAPPiE ist kein statisches Skript, sondern ein dynamisches System aus LLM-Interaktion, Vektor-Suche und emotionaler R√ºckkopplung. Er "lebt" durch den st√§ndigen Wechsel von Erleben (Chat), Reflektieren (Gedanken) und Tr√§umen (Konsolidierung).

Dokumentation erstellt f√ºr Benjamin. üöÄ
